# PathIntersections.test.ts の問題点分析

これから行う修正だけ書きます。過去に行った修正は随時削除します。
このファイルはレポートではありません。行った修正はノイズなので、必ず削除してください。

## 問題の概要

`PathIntersections.test.ts` のテストが失敗しています。主な問題は、交点の数が期待値と一致していないことです：

- 円と円の交差テスト：期待値は2点の交点ですが、実際には11点の交点が検出されています
- 円と四角形の交差テスト：期待値は2点の交点ですが、実際には交点が検出されていません
- 自己交差テスト：交点が検出されていません

## 残りの修正予定

1. **addCurveIntersections関数の修正**: 曲線同士の交点計算アルゴリズムをPaper.jsと完全に一致させる

2. **getOverlaps関数の修正**: オーバーラップ検出アルゴリズムをPaper.jsと完全に一致させる

3. **Numerical.tsの許容誤差値の確認**: Paper.jsと同じ許容誤差値を使用しているか確認する

## 修正方針

Paper.jsとの相違点を優先的に修正し、Paper.jsの実装に忠実に合わせることを最優先します。独自の改善や最適化は行わず、まずはPaper.jsの実装を正確に再現することに注力します。